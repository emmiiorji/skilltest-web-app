<div class="max-w-4xl mx-auto px-4 py-8">
  {{#if error}}
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6" role="alert">
      <p>{{error}}</p>
    </div>
  {{/if}}

  <form action="/admin/createProfile" method="POST" class="space-y-6">
    <div class="grid grid-cols-1 md:grid-cols-[200px_1fr] gap-4 items-start">
      {{> formField label="Link" name="link" type="text"}}
      {{> formField label="URL" name="url" type="url"}}
      {{> formField label="Name" name="name" type="text"}}
      {{> formField label="Country" name="country" type="text"}}
      {{> formField label="Title" name="title" type="text"}}
      {{> formField label="Description" name="description" type="textarea"}}
      {{> formField label="Last Activity" name="lastActivity" type="datetime-local"}}
      {{> formField label="Earned" name="earned" type="number" step="0.01"}}
      {{> formField label="Rate" name="rate" type="number" step="0.01"}}
      {{> formField label="Total Hours" name="totalHours" type="number" step="1"}}
      {{> formField label="In Progress" name="inProgress" type="checkbox"}}
      {{> formField label="Invited At" name="invitedAt" type="datetime-local"}}
      {{> formField label="Shortname" name="shortname" type="text" maxlength="100"}}
      {{> formField label="Recno" name="recno" type="number" step="1"}}
      {{> formField label="Agencies" name="agencies" type="text"}}
      {{> formField label="Total Revenue" name="totalRevenue" type="number" step="0.01"}}
      {{> formField label="Member Since" name="memberSince" type="date"}}
      {{> formField label="Vanity URL" name="vanityUrl" type="text"}}
      {{> formField label="Skills" name="skills" type="text"}}
      {{> formField label="Process" name="process" type="text"}}
    </div>

    <div class="mt-8 flex justify-center">
      <button type="submit" class="px-8 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-full shadow-lg hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transform transition-all duration-200 hover:scale-105">
        Create Profile
      </button>
    </div>
  </form>

  {{#if success}}
    {{> successPopup userId=userId}}
  {{/if}}
</div>

{{!-- Partial for form fields --}}
{{#*inline "formField"}}
  <label for="{{name}}" class="block text-sm font-medium text-gray-700 md:text-right md:pr-4 md:py-2">{{label}}</label>
  <div class="mt-1 md:mt-0">
    {{#if (eq type "textarea")}}
      <textarea name="{{name}}" id="{{name}}" rows="3"
                class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
    {{else if (eq type "checkbox")}}
      <input type="checkbox" name="{{name}}" id="{{name}}"
             class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
    {{else}}
      <input type="{{type}}" name="{{name}}" id="{{name}}" {{#if step}}step="{{step}}"{{/if}} {{#if maxlength}}maxlength="{{maxlength}}"{{/if}}
             class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">
    {{/if}}
  </div>
{{/inline}}

{{#*inline "successPopup"}}
  <div id="successPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full">
      <h2 class="text-2xl font-bold mb-4 text-gray-800">Profile Created Successfully!</h2>
      <p class="mb-6 text-gray-600">User ID: <span class="font-semibold">{{userId}}</span></p>
      <button onclick="document.getElementById('successPopup').style.display='none';"
              class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-4 py-2 rounded-full hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 transition-all duration-200">
        Close
      </button>
    </div>
  </div>
{{/inline}}