{
  "schemaVersion": 2,
  "dockerfileLines": [
    "FROM node:lts-alpine3.20",
    "RUN mkdir -p /usr/src/app",
    "WORKDIR /usr/src/app",
    "COPY package.json pnpm-lock.yaml ./",
    "RUN npm install -g pnpm",
    "RUN pnpm install",
    "COPY . .",
    "RUN pnpm run build",
    "RUN pnpm run copy-views",
    "ENV NODE_ENV production",
    "ENV PORT 10000",
    "EXPOSE 10000",
    "CMD [ \"node\", \"dist/server.js\" ]"
  ]
}